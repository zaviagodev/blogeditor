var ue=Object.defineProperty,fe=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var z=(a,e,t)=>e in a?ue(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t,p=(a,e)=>{for(var t in e||(e={}))U.call(e,t)&&z(a,t,e[t]);if(A)for(var t of A(e))F.call(e,t)&&z(a,t,e[t]);return a},v=(a,e)=>fe(a,me(e));var P=(a,e)=>{var t={};for(var n in a)U.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&A)for(var n of A(a))e.indexOf(n)<0&&F.call(a,n)&&(t[n]=a[n]);return t};import{r as s,c as pe,a as ge,j as o,R as y,L as q,b as xe,V,d as G,t as be,e as he,$ as K,f as Q,g as Y,h as H,C as ve,i as Z,k as ee,l as Se,m as ye,n as te,o as _e,p as je,q as Pe,U as Ee}from"./vendor-c5345f6c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();const Te="modulepreload",we=function(a){return"/assets/blogtest/SpaBlogEditor/"+a},J={},j=function(e,t,n){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(i=>{if(i=we(i),i in J)return;J[i]=!0;const c=i.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!n)for(let g=r.length-1;g>=0;g--){const u=r[g];if(u.href===i&&(!c||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Te,c||(f.as="script",f.crossOrigin=""),f.href=i,document.head.appendChild(f),c)return new Promise((g,u)=>{f.addEventListener("load",g),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i})},Ce=s.lazy(()=>j(()=>import("./page-11f95d37.js"),["assets/page-11f95d37.js","assets/vendor-c5345f6c.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js"])),Ve=s.lazy(()=>j(()=>import("./page-bd381edf.js"),["assets/page-bd381edf.js","assets/vendor-c5345f6c.js","assets/button-24bd7629.js","assets/composer-764e9373.js","assets/floating-ui.dom-696c277b.js","assets/composer-7056009f.css"])),Re=s.lazy(()=>j(()=>import("./page-9e2f71f9.js"),["assets/page-9e2f71f9.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Oe=s.lazy(()=>j(()=>import("./page-198243ca.js"),["assets/page-198243ca.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Ae=s.lazy(()=>j(()=>import("./page-4fdb8bc7.js"),["assets/page-4fdb8bc7.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Le=s.lazy(()=>j(()=>import("./page-edd777c6.js"),["assets/page-edd777c6.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Ne=s.lazy(()=>j(()=>import("./page-8e060df0.js"),["assets/page-8e060df0.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Ie=s.lazy(()=>j(()=>import("./page-d7a98289.js"),["assets/page-d7a98289.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),$e=s.lazy(()=>j(()=>import("./page-848ac7be.js"),["assets/page-848ac7be.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Be=s.lazy(()=>j(()=>import("./page-22b27afc.js"),["assets/page-22b27afc.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),De=s.lazy(()=>j(()=>import("./page-062d761f.js"),["assets/page-062d761f.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),ke=s.lazy(()=>j(()=>import("./page-0b35cfd4.js"),["assets/page-0b35cfd4.js","assets/vendor-c5345f6c.js","assets/playground-b0f90778.js","assets/header-11c897c0.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js","assets/floating-ui.dom-696c277b.js","assets/composer-764e9373.js","assets/composer-7056009f.css"])),Me=s.lazy(()=>j(()=>import("./test-afc864e6.js"),["assets/test-afc864e6.js","assets/vendor-c5345f6c.js","assets/button-24bd7629.js","assets/drawline-608e1a9f.js"])),ze=pe(ge(o.jsxs(y,{path:"/",children:[o.jsx(y,{index:!0,element:o.jsx(Ce,{})}),o.jsx(y,{path:"newPost",element:o.jsx(Re,{})}),o.jsx(y,{path:"newCategories",element:o.jsx(Oe,{})}),o.jsx(y,{path:"newSystemPage",element:o.jsx(Ae,{})}),o.jsx(y,{path:"newBlogger",element:o.jsx(Le,{})}),o.jsx(y,{path:"newPage",element:o.jsx(Ne,{})}),o.jsx(y,{path:"editCategory",element:o.jsx(Ie,{})}),o.jsx(y,{path:"editPost",element:o.jsx($e,{})}),o.jsx(y,{path:"editBlogger",element:o.jsx(Be,{})}),o.jsx(y,{path:"editPage",element:o.jsx(De,{})}),o.jsx(y,{path:"editSystemPage",element:o.jsx(ke,{})}),o.jsx(y,{path:"preview",element:o.jsx(Ve,{})}),o.jsx(y,{path:"test",element:o.jsx(Me,{})})]})),{basename:"/SpaBlogEditor"});function Ue(){var n;const[a,e]=s.useState(!0),t=(n=document.cookie.split("; ").find(r=>r.startsWith("user_id")))==null?void 0:n.split("=")[1];return s.useEffect(()=>{t=="Guest"?window.location.href="/login":e(!1)},[t]),o.jsx(s.Suspense,{fallback:o.jsx(q,{className:"animate-spin w-8 h-8 stroke-2 absolute left-1/2 top-1/2"}),children:a?o.jsx(q,{className:"animate-spin w-8 h-8 stroke-2 absolute left-1/2 top-1/2"}):o.jsx(xe,{router:ze})})}const B=s.createContext({}),Fe=({children:a})=>{const[e,t]=s.useState("Post"),[n,r]=s.useState(!1),[i,c]=s.useState([]),[d,l]=s.useState(!1),h={mutate:d,toggleMutate:()=>{l(!d),c([])},rows:i,addRow:S=>{i.push(S)},suppRow:S=>{const x=i.indexOf(S);x>-1&&i.splice(x,1)},delete:n,setDelete:r,variable:e,ChangeVariable:S=>{t(S)}};return o.jsx(B.Provider,{value:h,children:a})},qe=s.createContext({}),Je=({children:a})=>{const[e,t]=s.useState(""),[n,r]=s.useState({}),[i,c]=s.useState(),[d,l]=s.useState(!1),f=s.useContext(B),[g,u]=s.useState(!1),[m,h]=s.useState(!0),S=b=>{u(b)},x=b=>{h(b)},w=b=>{t(b)},D=(b,C,M)=>{b?r(b):C&&M&&r(de=>v(p({},de),{[C]:M}))},{data:E,mutate:_}=V("Blog Post",{fields:["content_type","name","published","title","blog_category","content_json","blogger","published_on","meta_image"],limit:200}),{createDoc:k,isCompleted:R}=G();s.useEffect(()=>{if(E)if(e!="null"){let b=parseInt(e);c(E[b])}else c({})},[E,e]),s.useEffect(()=>{g||_()},[g]),s.useEffect(()=>{if(d&&E&&e!="null"){let b=E[parseInt(e)];b.title=b.title+" (copy)";let C=JSON.parse(b.content_json);C.blocks[0].content[0].text=C.blocks[0].content[0].text+" (copy)",b.content_json=JSON.stringify(C),k("Blog Post",b).then(()=>{f.toggleMutate(),l(!1)})}},[d,E,e]),s.useEffect(()=>{_()},[R]);const le={update:n,variable:e,dataList:E,data:i,copy:d,publish:m,submit:g,setPublish:x,setSubmit:S,makeCopy:b=>{t(b),l(!0)},ChangeObject:D,ChangeVariable:w};return o.jsx(qe.Provider,{value:le,children:a})},We=s.createContext({}),Xe=({children:a})=>{const[e,t]=s.useState(""),[n,r]=s.useState(),[i,c]=s.useState({}),[d,l]=s.useState("desktop"),S={view:d,changeView:x=>{l(x)},previousPage:n,block:i,changeBlock:x=>{c(x)},changepage:x=>{r(x)},variable:e,data:()=>{var{data:x,isLoading:w}=V("Blog Category",{fields:["title","name","published","image","description"],limit:200});return x?{data:x,isLoading:w}:(x={},{data:x,isLoading:w})},ChangeVariable:x=>{t(x)}};return o.jsx(We.Provider,{value:S,children:a})},Ge=s.createContext({}),Ke=({children:a})=>{const[e,t]=s.useState(""),[n,r]=s.useState(),[i,c]=s.useState(2),d=m=>{t(m)};var{data:l,mutate:f}=V("BlogPage",{fields:["*"]});s.useEffect(()=>{if(l&&e){let m=parseInt(e);r(l[m])}},[l,e]),s.useEffect(()=>{i==1&&f()},[i]);const u={update:i,variable:e,dataList:l,data:n,mutate:f,setData:r,changeSubmit:m=>{c(m)},changeVariable:d};return o.jsx(Ge.Provider,{value:u,children:a})},Qe=s.createContext({}),Ye=({children:a})=>{const[e,t]=s.useState(""),[n,r]=s.useState(),[i,c]=s.useState(!1),d=h=>{t(h)};var{data:l,mutate:f}=V("Blogger",{fields:["name","full_name","short_name","avatar","disabled","bio"],limit:200});const g=()=>{r(void 0)};s.useEffect(()=>{if(l&&e){let h=parseInt(e);r(l[h])}},[l,e]),s.useEffect(()=>{i||f()},[i]);const m={update:i,variable:e,dataList:l,data:n,changeSubmit:h=>{c(h)},changeVariable:d,deleteData:g};return o.jsx(Qe.Provider,{value:m,children:a})},He=s.createContext({}),Ze=({children:a})=>{const[e,t]=s.useState(""),[n,r]=s.useState(),[i,c]=s.useState({}),d=m=>{t(m)};var{data:l,mutate:f}=V("SystemPage",{fields:["*"]});s.useEffect(()=>{if(l)if(e){let m=parseInt(e);r(l[m])}else r({})},[l,e]);const u={update:i,variable:e,dataList:l,data:n,changeSubmit:(m,h,S)=>{m?c(m):h&&S&&c(x=>v(p({},x),{[h]:S}))},changeVariable:d,mutate:f};return o.jsx(He.Provider,{value:u,children:a})},et=s.createContext({}),tt=({children:a})=>{const[e,t]=s.useState(!1),[n,r]=s.useState(!1),[i,c]=s.useState(!1),[d,l]=s.useState(!1),[f,g]=s.useState(!1),m={error:f,sidebarRight:e,sidebar:n,sideApp:i,itemSideBar:d,toggle:h=>{switch(h){case"SideBar":r(!n);break;case"SideApp":c(!i);break;case"SideBarRight":t(!e);break;case"ItemSideBar":l(!d);break;case"Error":g(!f);break}}};return o.jsx(et.Provider,{value:m,children:a})},st=s.createContext({}),at=({children:a})=>{const[e,t]=s.useState(""),[n,r]=s.useState(),[i,c]=s.useState(!1),[d,l]=s.useState(!1),f=s.useContext(B),g=_=>{t(_)};var{data:u,mutate:m}=V("Blog Category",{fields:["name","title","image","published","description"],limit:200});const{createDoc:h,isCompleted:S}=G(),x=()=>{r(void 0)};s.useEffect(()=>{m()},[S]);const w=_=>{t(_),l(!0)};s.useEffect(()=>{if(d&&u&&e!="null"){let _=u[parseInt(e)],{name:k}=_,R=P(_,["name"]);R.title=R.title+" (copy)",h("Blog Category",R).then(()=>{f.toggleMutate(),l(!1)})}},[d,u,e]),s.useEffect(()=>{if(u&&e){let _=parseInt(e);r(u[_])}},[u,e]),s.useEffect(()=>{i||m()},[i]);const E={update:i,variable:e,copy:d,makeCopy:w,dataList:u,data:n,changeSubmit:_=>{c(_)},changeVariable:g,deleteData:x};return o.jsx(st.Provider,{value:E,children:a})};function T(...a){return be(he(a))}const ot=ye,se=s.forwardRef((n,t)=>{var r=n,{className:a}=r,e=P(r,["className"]);return o.jsx(K,p({ref:t,className:T("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",a)},e))});se.displayName=K.displayName;const rt=Se("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ae=s.forwardRef((r,n)=>{var i=r,{className:a,variant:e}=i,t=P(i,["className","variant"]);return o.jsx(Q,p({ref:n,className:T(rt({variant:e}),a)},t))});ae.displayName=Q.displayName;const nt=s.forwardRef((n,t)=>{var r=n,{className:a}=r,e=P(r,["className"]);return o.jsx(Y,p({ref:t,className:T("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",a)},e))});nt.displayName=Y.displayName;const oe=s.forwardRef((n,t)=>{var r=n,{className:a}=r,e=P(r,["className"]);return o.jsx(H,v(p({ref:t,className:T("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",a),"toast-close":""},e),{children:o.jsx(ve,{className:"h-4 w-4"})}))});oe.displayName=H.displayName;const re=s.forwardRef((n,t)=>{var r=n,{className:a}=r,e=P(r,["className"]);return o.jsx(Z,p({ref:t,className:T("text-sm font-semibold [&+div]:text-xs",a)},e))});re.displayName=Z.displayName;const ne=s.forwardRef((n,t)=>{var r=n,{className:a}=r,e=P(r,["className"]);return o.jsx(ee,p({ref:t,className:T("text-sm opacity-90",a)},e))});ne.displayName=ee.displayName;const it=1,ct=1e6;let I=0;function lt(){return I=(I+1)%Number.MAX_VALUE,I.toString()}const $=new Map,W=a=>{if($.has(a))return;const e=setTimeout(()=>{$.delete(a),O({type:"REMOVE_TOAST",toastId:a})},ct);$.set(a,e)},dt=(a,e)=>{switch(e.type){case"ADD_TOAST":return v(p({},a),{toasts:[e.toast,...a.toasts].slice(0,it)});case"UPDATE_TOAST":return v(p({},a),{toasts:a.toasts.map(t=>t.id===e.toast.id?p(p({},t),e.toast):t)});case"DISMISS_TOAST":{const{toastId:t}=e;return t?W(t):a.toasts.forEach(n=>{W(n.id)}),v(p({},a),{toasts:a.toasts.map(n=>n.id===t||t===void 0?v(p({},n),{open:!1}):n)})}case"REMOVE_TOAST":return e.toastId===void 0?v(p({},a),{toasts:[]}):v(p({},a),{toasts:a.toasts.filter(t=>t.id!==e.toastId)})}},L=[];let N={toasts:[]};function O(a){N=dt(N,a),L.forEach(e=>{e(N)})}function ut(e){var a=P(e,[]);const t=lt(),n=i=>O({type:"UPDATE_TOAST",toast:v(p({},i),{id:t})}),r=()=>O({type:"DISMISS_TOAST",toastId:t});return O({type:"ADD_TOAST",toast:v(p({},a),{id:t,open:!0,onOpenChange:i=>{i||r()}})}),{id:t,dismiss:r,update:n}}function ft(){const[a,e]=s.useState(N);return s.useEffect(()=>(L.push(e),()=>{const t=L.indexOf(e);t>-1&&L.splice(t,1)}),[a]),v(p({},a),{toast:ut,dismiss:t=>O({type:"DISMISS_TOAST",toastId:t})})}function mt(){const{toasts:a}=ft();return o.jsxs(ot,{children:[a.map(function(c){var d=c,{id:e,title:t,description:n,action:r}=d,i=P(d,["id","title","description","action"]);return o.jsxs(ae,v(p({},i),{children:[o.jsxs("div",{className:"grid gap-1",children:[t&&o.jsx(re,{children:t}),n&&o.jsx(ne,{children:n})]}),r,o.jsx(oe,{})]}),e)}),o.jsx(se,{})]})}const ie=s.createContext({}),pt=({children:a})=>{const[e,t]=s.useState(!1),[n,r]=s.useState(0),[i,c]=s.useState(!1),g={loading:e,setLoading:u=>{t(u)},progress:n,setProgress:u=>{r(u)},completed:i,setCompleted:()=>{c(!0),t(!1)}};return o.jsx(ie.Provider,{value:g,children:a})},ce=s.forwardRef((r,n)=>{var i=r,{className:a,value:e}=i,t=P(i,["className","value"]);return o.jsx(te,v(p({ref:n,className:T("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",a)},t),{children:o.jsx(_e,{className:"h-full w-full flex-1 bg-gradient-to-r from-[#5756FF] -from-0.6% to-[#9149FF] to-121.53% transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}))});ce.displayName=te.displayName;function gt(){const[a,e]=s.useState(0),t=s.useContext(ie);var n;return s.useEffect(()=>{if(t.loading===!0&&(clearTimeout(n),n=setTimeout(()=>e(95),1e3)),t.progress!==0){const r=t.progress/4;clearTimeout(n),n=setTimeout(()=>e(r),1e3)}t.completed&&(clearTimeout(n),n=setTimeout(()=>e(100),100))},[t.progress,t.loading,t.completed]),s.useEffect(()=>{a===100&&(clearTimeout(n),setTimeout(()=>e(0),1e3))},[a]),o.jsx(ce,{value:a,className:`w-full z-[9999] h-1 rounded-none fixed top-0 left-0  bg-transparent ;
  ] `})}var X;je.createRoot(document.getElementById("root")).render(o.jsx(Pe.StrictMode,{children:o.jsx(Ee,{url:(X={}.VITE_ERP_URL)!=null?X:"",enableSocket:!1,tokenParams:{type:"token",useToken:!0,token:()=>"e01b99e56844640:c1db347072673e9"},children:o.jsx(tt,{children:o.jsx(Fe,{children:o.jsx(pt,{children:o.jsx(Xe,{children:o.jsx(Ze,{children:o.jsx(Ye,{children:o.jsx(Je,{children:o.jsx(Ke,{children:o.jsxs(at,{children:[o.jsx(gt,{}),o.jsx(Ue,{}),o.jsx(mt,{})]})})})})})})})})})})}));export{et as A,Qe as B,st as C,ie as L,qe as P,He as S,B as T,We as a,Ge as b,T as c,ft as u};
//# sourceMappingURL=index-f9211a3f.js.map
